<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rental Summary</title>
  <link rel="stylesheet" href="../styles/del.css" />
  <style>
    #totalAmount {
      margin-top: 5px;
      font-weight: bold;
      color: #333;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="back-arrow" aria-label="Go back" id="backBtn">&larr;</button>

    <div class="section">
      <h2>Product Details</h2>
      <div class="product">
        <div>
          <strong class="brand" id="brand">HERO</strong> <span id="name">Glamour</span><br />
          <span class="fee">Zero Deposit Fee</span> <br />
          <a class="rental-link" href="#">Rental Details</a>
          <p class="location" id="rentalInfo">Loading rental info...</p>
          <!-- Total Amount will appear here -->
          <div id="totalAmount"></div>
        </div>
        <img src="" alt="vehicle Image" id="bikeImage" class="bike-img" />
      </div>
    </div>

    <div class="section">
      <h2>Additional Details</h2>
      <div class="charges">
        <div class="charge-box">
          üí∞<br />
          Excess Km Charges<br />
          <strong>‚Çπ8/km</strong>
        </div>
        <div class="charge-box">
          ‚è±Ô∏è<br />
          Excess Hourly Charges<br />
          <strong>‚Çπ50/hr</strong>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Mode Of Delivery</h2>
      <div class="delivery-options">
        <label><input type="radio" name="delivery" value="home" checked /> Home Delivery</label>
        <label><input type="radio" name="delivery" value="pickup" /> Pickup Delivery</label>
      </div>
    </div>

    <div class="section address-section" id="addressSection">
      <h2>Delivery Address</h2>
      <button class="add-address" id="addressBtn" onclick="toggleAddressForm()">Add Address</button>

      <div class="address-form" id="addressForm">
        <label for="pincode">Pincode:
          <input type="text" id="pincode" placeholder="Enter Pincode" />
        </label>
        <label for="street">Street:
          <input type="text" id="street" placeholder="Street Name" />
        </label>
        <label for="city">City:
          <input type="text" id="city" placeholder="City" />
        </label>
        <label for="state">State:
          <input type="text" id="state" placeholder="State" />
        </label>

        <button type="button" class="add-address" onclick="detectLocation()">Detect Location</button>
        <button type="button" class="add-address" onclick="submitAddress()">Submit</button>

        <div id="locationMessage" class="message"></div>
      </div>

      <div class="address-display" id="addressDisplay" style="display: none;"></div>
    </div>

    <button class="submit-btn" id="submitBtn">Submit</button>
  </div>

  <script>
    // Extract data from URL
    const params = new URLSearchParams(window.location.search);
    const location = params.get("location") || "N/A";
    const totalAmount = params.get("total");
    const name = params.get("name");
    const brand = params.get("brand");
    const image = params.get("image");

    // Set rental info
    document.getElementById("rentalInfo").textContent = location;

    // Set brand, name, and image
    if (name) document.getElementById("name").textContent = name;
    if (brand) document.getElementById("brand").textContent = brand;
    if (image) document.getElementById("bikeImage").src = image;

    // Display Total Amount (clean display only)
    if (totalAmount && !isNaN(totalAmount)) {
      document.getElementById("totalAmount").textContent = `Total: ‚Çπ${parseFloat(totalAmount).toFixed(2)}`;
    }
  </script>

  <script src="../scripts/del.js"></script>
</body>
</html>
